<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>BART Density Estimator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css">
  </head>
  <body>
    <main>
        <div class="container col-xl-10 col-xxl-8 px-4 py-5">
            <div class="row align-items-top g-lg-5 py-5">
              <div class="col-lg-7 text-center text-lg-start">
                <h1 class="display-4 fw-bold lh-1 text-body-emphasis mb-3">BART Density Estimator</h1>
                <p class="col-lg-10 fs-4">You deserve the most comfortable ride possible when you ride BART. Make sure you have a seat on your next journey! Use the form </p>
              </div>
              <div class="col-md-10 mx-auto col-lg-5">
                <form id="request" class="p-4 p-md-5 border rounded-3 bg-body-tertiary">
                    <label for="fromStn" class="form-label"><i class="bi bi-train-front-fill"></i> From</label>
                    <input type="text" class="form-control" list="stnList"  name="fromStn" placeholder="Civic Center/UN Plaza">

                    <label for="toStn" class="form-label"><i class="bi bi-train-front-fill"></i> To</label>
                    <input type="text" class="form-control" list="stnList"  name="toStn" placeholder="West Oakland">

                    <label for="atHour" class="form-label"><i class="bi bi-clock-fill"></i> At</label>
                    <input type="text" class="form-control" list="hours"  name="atHour" placeholder="8 AM"><br />
                    <input type="submit" class="w-100 btn btn-md btn-primary" value="Submit" class="form-control" />
                    <datalist id = "hours">
                        <option value="4 AM">
                        <option value="5 AM">
                        <option value="6 AM">
                        <option value="7 AM">
                        <option value="8 AM">
                        <option value="9 AM">
                        <option value="10 AM">
                        <option value="11 AM">
                        <option value="12 PM">
                        <option value="1 PM">
                        <option value="2 PM">
                        <option value="3 PM">
                        <option value="4 PM">
                        <option value="5 PM">
                        <option value="6 PM">
                        <option value="7 PM">
                        <option value="8 PM">
                        <option value="9 PM">
                        <option value="10 PM">
                        <option value="11 PM">
                        <option value="12 AM">
                    </datalist>
                    <datalist id="stnList">
                        <option value="12th St. Oakland City Center">
                        <option value="16th St. Mission">
                        <option value="19th St. Oakland">
                        <option value="24th St. Mission">
                        <option value="Ashby">
                        <option value="Balboa Park">
                        <option value="Bay Fair">
                        <option value="Castro Valley">
                        <option value="Civic Center/UN Plaza">
                        <option value="Coliseum/Oakland Airport">
                        <option value="Colma">
                        <option value="Concord">
                        <option value="Daly City">
                        <option value="Downtown Berkeley">
                        <option value="Dublin/Pleasanton">
                        <option value="El Cerrito del Norte">
                        <option value="El Cerrito Plaza">
                        <option value="Embarcadero">
                        <option value="Fremont">
                        <option value="Fruitvale">
                        <option value="Glen Park">
                        <option value="Hayward">
                        <option value="Lafayette">
                        <option value="Lake Merritt">
                        <option value="MacArthur">
                        <option value="Millbrae">
                        <option value="Montgomery St.">
                        <option value="North Berkeley">
                        <option value="North Concord/Martinez">
                        <option value="Orinda">
                        <option value="Pittsburg/Bay Point">
                        <option value="Pleasant Hill/Contra Costa Centre">
                        <option value="Powell St.">
                        <option value="Richmond">
                        <option value="Rockridge">
                        <option value="San Bruno">
                        <option value="San Francisco Int'l Airport">
                        <option value="San Leandro">
                        <option value="South Hayward">
                        <option value="South San Francisco">
                        <option value="Union City">
                        <option value="Walnut Creek">
                        <option value="West Dublin/Pleasanton">
                        <option value="West Oakland">                        
                    </datalist><br/>                

                 
                </form>
                <hr class="my-4">
                <div id="result" align="center">
                    <h5 class="display-6">Your train should have <br/><strong>about 20 empty seats</strong><br />out of 104.</h2>
                </div>
              </div>
            </div>
        </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js" integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js" integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ" crossorigin="anonymous"></script>
    <script>
        //get the form from DOM (Document object model) 
        var form = document.getElementById('request');
        form.onsubmit = function(event){
            var xhr = new XMLHttpRequest();
            var data = new FormData(form);
            //Add extra data to form before submission.
            for (const value of data.values()) {
                console.log(value);
            }
            //data.append("referer","https://example.com");
            //open the request
            //xhr.open('POST','http://localhost:7000/tests/v1.0/form')
            //send the form data
            //xhr.send(data);

            xhr.onreadystatechange = function() {
                if (xhr.readyState == XMLHttpRequest.DONE) {
                    form.reset(); //reset form after AJAX success.
                }
            }

            //Dont submit the form.
            return false; 
        }
    </script>
  </body>
</html>

